@page "/activities"
@using CorporateWellness.Components;
@using Microsoft.FluentUI.AspNetCore.Components

<FluentGrid Style="background-color: var(--neutral-layer-3); padding: 4px; ">
    <FluentGridItem xs="12" Justify="JustifyContent.FlexEnd">
        <FluentSearch AriaLabel="Search" />
        &nbsp;
        <FluentButton>New Activity</FluentButton>
        &nbsp;
        <FluentButton>AI Suggestion</FluentButton>
    </FluentGridItem>
    <FluentGridItem xs="12">
        <FluentDataGrid Items="@userActivities">
            <TemplateColumn Width="30px" Align="Align.Center">
                <input type="checkbox" @onchange="@(() => OnCheckboxChanged(context))" />
            </TemplateColumn>
            <PropertyColumn Property="@(p => p.Id)" Sortable="true" />
            <PropertyColumn Property="@(p => p.Name)" Sortable="true" />
            <PropertyColumn Property="@(p => p.Calories)" Sortable="true" />
            <PropertyColumn Property="@(p => p.SuggestedSlot)" Sortable="false" />
            <PropertyColumn Property="@(p => p.Features)" Sortable="false" />
            <PropertyColumn Property="@(p => p.Source)" Sortable="false" />
        </FluentDataGrid>
    </FluentGridItem>
</FluentGrid>

@code {
    string message = string.Empty;

    record userActivity(int Id, string Name, string SuggestedSlot, int Calories, string Features, string Source);

    IQueryable<userActivity> userActivities = new[]
    {
        new userActivity(10895, "Desk stretching routine", "Every two hours",50,"Reduces muscle stiffness","AI Suggested"),
        new userActivity(10944, "Walking break", "Lunch break (12PM-1PM)",150,"Boots cardiovascular health","Manual"),
        new userActivity(11203, "Office chair yoga", "Mid-morning (10AM)",70,"Increases flexibility","AI Suggested"),
        new userActivity(11205, "Stait climbing", "Afternoon (3PM)",200,"Improves leg strength and cardio","Manual")
    }.AsQueryable();

    void OnCheckboxChanged(userActivity curr)
    {
        message = $"Checkbox for Activity Id {curr.Id} changed";
    }
}